#!/bin/bash
# COMBINATION_METHODS="weighted_membership majority_voting weighted_membership_entropy cluster_density"
DATASETS="normal_2_class"
# DATASETS="rectangles elipses australian_credit german_credit contraceptive wine pima wdbc iris heart"
# EVALUATION_METRIC="dbc dbc_rand rand"
EVALUATION_METRIC="rand"
COMBINATION_METHODS="meta_classifier weighted_membership majority_voting"
POSSIBLE_N_CLUSTERS="2 3"
CLASSIFIERS_SELECTION="crossval default pso"

for dataset in $DATASETS; do

    for mutual_info in 100 75 50; do

        for clf_selection_method in $CLASSIFIERS_SELECTION; do

            for combination_method in $COMBINATION_METHODS; do

                for eval_metric in $EVALUATION_METRIC; do
                    echo "======================================================"
                    echo "Running ${dataset} ${mutual_info} ${eval_metric} ${combination_method} ${clf_selection_method}..."
                    echo "======================================================"
                    echo "python cbeg.py -d ${dataset} -n compare -m ${mutual_info} -e ${eval_metric} -c ${combination_method} -p ${clf_selection_method}"
                    python cbeg.py -d "$dataset" -n compare -m "$mutual_info" -e "$eval_metric" -c "$combination_method" -p "$clf_selection_method"
                done

                for n_clusters in $POSSIBLE_N_CLUSTERS; do
                    echo "======================================================"
                    echo "Running ${dataset} ${mutual_info} ${n_clusters} ${combination_method} ${clf_selection_method}"
                    echo "======================================================"
                    echo "python cbeg.py -d ${dataset} -m ${mutual_info} -n ${n_clusters} -c ${combination_method} -p ${clf_selection_method}"
                    python cbeg.py -d "$dataset" -n "$n_clusters" -m "$mutual_info" -c "$combination_method" -p "$clf_selection_method"
                done
            done
        done
    done
done
